<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" integrity="sha384-
ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="/css/jumbotron-narrow.css" rel="stylesheet">
</head>
<nav th:replace="common :: menu"></nav>
<style>
 .fieldError {
 border-color: #bd2130;
 }

 #outer{
  display: flex;
 }
</style>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<div class="container" style="margin-top:50px">
    <form role="form" action="/movies/recommendMovie" th:object="${movieRecommendForm}"
          method="post">
        <div class="form-group">
            <label th:for="name">영화제목</label>
            <div th:text="${movieRecommendForm.title}" class="form-control"></div>
            <input th:name="title" th:value="${movieRecommendForm.title}" type="hidden"/>
        </div>
        <br/>
        <div class="form-group">
            <label th:for="director">영화감독</label>
            <div th:text="${movieRecommendForm.director}" class="form-control"></div>
            <input th:name="director" th:value="${movieRecommendForm.director}" type="hidden"/>
        </div>
        <br/>
        <div class="form-group">
            <label th:for="comment">추천이유</label>
            <textarea cols="30" rows="5" maxlength="500" type="text" th:name="comment" th:value="${movieRecommendForm.comment}" th:text="${movieRecommendForm.comment}"  class="form-control"
                   placeholder="추천이유를 입력하세요"/>
        </div>
        <br/>
        <div class="form-group">
            <label th:for="userHeart">이 영화는 몇 점짜리?</label>
            <input type="number" th:name="userHeart" th:value="${movieRecommendForm.userHeart}" class="form-control"/>
        </div>
        <br/>
        <div class="form-group">
         <!--   <label th:for="image">영화포스터</label>-->
            <img th:src="@{${movieRecommendForm.imageLink}}" />
            <input th:name="imageLink" th:value="${movieRecommendForm.imageLink}" type="hidden"/>
<!--            <div th:text="${movieRecommendForm.image}" class="form-control"></div>-->
        </div>
        <br/>
        <div class="form-group" style="display:none;">
            <label th:for="movieId">영화아이디</label>
<!--            <div th:text="${movieRecommendForm.movieId}"  class="form-control"></div>-->
            <input th:name="movieId" th:value="${movieRecommendForm.movieId}" type="hidden"/>
        </div>
        <div class="form-group">
            <label th:for="recipientName">추천해주고 싶은 사람</label>
            <div id="outer">
            <input id="recipientName" type="text" th:name="recipientName" style="width:300px" th:value="${movieRecommendForm.recipientName}" th:text="${movieRecommendForm.recipientName}" class="form-control"
                   placeholder="추천해주고 싶은 사람을 입력하세요"/>&nbsp<button id="findFriend" type="button" class="btn btn-primary">영화친구에서 친구찾기</button>
            </div>
        <br/>
        <button type="submit" class="btn btn-primary">추천하기</button>
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}" />
    </form>
</div> <!-- /container -->
<!-- 사용자 스크립트 추가 -->
<script type="text/javascript">
 $(function () {
    $('#findFriend').on('click', function () {
            var newWindow = window.open("/findFriend", 'window', 'width=650,height=400');
      });

  });
</script>
</body>
</html>